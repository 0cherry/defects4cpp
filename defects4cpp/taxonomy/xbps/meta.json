{
  "info": {
    "url": "https://github.com/void-linux/xbps",
    "short-desc": "The X Binary Package System (in short XBPS) is a binary package system designed and implemented from scratch.",
    "vcs": "git"
  },
  "common": {
    "exclude": [],
    "build": {
      "command": [
        "sh -c 'CFLAGS=-Wno-error ./configure --enable-tests && make -j 8'"
      ]
    },
    "build-coverage": {
      "command": [
        "sh -c \"make clean\"",
        "sh -c \"CFLAGS='-Wno-error --coverage -O0 -g -fprofile-arcs -ftest-coverage' LDFLAGS=-lgcov ./configure --enable-tests && make -j 8\""
      ]
    },
    "test-type": "automake",
    "test": {
      "command": [
        "sh -c \"CFLAGS='-Wno-error' ./configure --enable-tests && make -j 8 && make check\""
      ]
    },
    "test-coverage": {
      "command": [
        "sh -c \"make clean\"",
        "sh -c \"CFLAGS='-Wno-error --coverage -O0 -g' LDFLAGS=-lgcov ./configure --enable-tests && make -j 8 && make check\""
      ]
    },
    "gcov": {
      "exclude": [],
      "command": [
        "sh -c \"mkdir gcov && find . -type f -name '*.gcov' -exec cp --parent {} /home/workspace/gcov \\;\"",
        "sh -c \"cd gcov && gcovr -g --html > coverage.html\""
      ]
    }
  },
  "defects": [
    {
      "hash": "62962208fd40606467c616fc657c4ab1142fc997",
      "patch": 1,
      "num_cases": 1,
      "case": [1],
      "description": "lib/transaction_files.c: fix leaving behind obsolete directories"
    },
    {
      "hash": "bd707acfee7385be846e9851e305e47cea1a32ac",
      "patch": 2,
      "num_cases": 1,
      "case": [1],
      "description": "repo: fix a double free with invalid repodata."
    },
    {
      "hash": "7b933a87a89bbf111b6b88cfd858fc0068cc2149",
      "patch": 3,
      "num_cases": 1,
      "case": [1],
      "description": "lib/transaction_check_revdeps.c: fix regression in revdeps check"
    },
    {
      "hash": "0005b3ecc08ef3f1979b49f665bb06ef02d10080",
      "patch": 4,
      "num_cases": 1,
      "case": [1],
      "description": "xbps_find_pkg_orphans: fix for #234"
    },
    {
      "hash": "8637269b38d9cd59fe946dc797a455e3c8009ea0",
      "patch": 5,
      "num_cases": 1,
      "case": [1],
      "description": "lib/transaction_revdeps.c: fix provides/replaces"
    }
  ]
}
